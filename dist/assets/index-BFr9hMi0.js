(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))r(t);new MutationObserver(t=>{for(const o of t)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(t){const o={};return t.integrity&&(o.integrity=t.integrity),t.referrerPolicy&&(o.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?o.credentials="include":t.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(t){if(t.ep)return;t.ep=!0;const o=n(t);fetch(t.href,o)}})();const u=async s=>{try{const e=await fetch(s);if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);return await e.json()}catch(e){return console.error("Error fetching recipes:",e),null}};class f{constructor(e){this.id=e.id,this.name=e.name,this.image=e.image,this.servings=e.servings,this.ingredients=e.ingredients,this.time=e.time,this.description=e.description,this.appliance=e.appliance,this.ustensils=e.ustensils}}let i=[];const m=async()=>{try{const s=await u("src/data/recipes.json");s&&s.recipes?(i=s.recipes.map(e=>new f(e)),p(i.length),d(i),g(),document.querySelector("#search").addEventListener("input",e=>a(e.target.value)),document.querySelector("#clear-button").addEventListener("click",()=>{document.querySelector("#search").value="",a("")})):console.error("No recipes found in the data")}catch(s){console.error("Error in main:",s)}},d=s=>{const e=document.querySelector("#recipes-container");e.innerHTML="",s.forEach(n=>{const r=document.createElement("article");r.classList.add("relative","flex","flex-col","overflow-hidden","rounded-3xl","bg-white","shadow-lg"),r.innerHTML=`
            <img src="src/assets/img/${n.image}" alt="${n.name}" class="h-64 w-full object-cover"/>
            <div class="absolute right-4 top-4 rounded-xl bg-yellow-400 px-4 py-1 text-xs text-color-site-100">${n.time}min</div>
            <div class="flex flex-grow flex-col px-6 pb-16 pt-8">
                <h2 class="mb-7 font-anton text-lg font-bold">${n.name}</h2>
                <h3 class="mb-2 text-sm font-bold uppercase tracking-wide text-color-site-300">Recette</h3>
                <p class="mb-8 flex-grow text-gray-700 line-clamp-4">${h(n.description)}</p>
                <h3 class="mb-4 text-sm font-bold uppercase tracking-wide text-color-site-300">Ingr√©dients</h3>
                <div class="grid grid-cols-2 gap-y-5">
                    ${n.ingredients.map(t=>`
                        <div class="flex flex-col text-sm">
                            <span class="font-medium">${t.ingredient}</span>
                            <span class="text-color-site-300">${t.quantity||""} ${t.unit||""}</span>
                        </div>
                    `).join("")}
                </div>
            </div>
        `,e.appendChild(r)})},p=s=>{const e=document.querySelector("#recipe-count");e.textContent=s===0?"00 recette":`${s.toString().padStart(2,"0")} recettes`},h=(s,e=4)=>{const n=s.split(`
`);return n.length<=e?s:n.slice(0,e).join(" ")+"..."},g=()=>{const s=new Set,e=new Set,n=new Set;i.forEach(r=>{r.ingredients.forEach(t=>s.add(t.ingredient)),e.add(r.appliance),r.ustensils.forEach(t=>n.add(t))}),l("#ingredients-select",s),l("#appliances-select",e),l("#ustensils-select",n)},l=(s,e)=>{const n=document.querySelector(s);n.innerHTML="",e.forEach(r=>{const t=document.createElement("option");t.value=r,t.textContent=r,t.classList.add("py-2","capitalize-first-letter"),n.appendChild(t)})},a=s=>{const e=i.filter(n=>n.name.toLowerCase().includes(s.toLowerCase())||n.ingredients.some(r=>r.ingredient.toLowerCase().includes(s.toLowerCase())));p(e.length),d(e)};m();
